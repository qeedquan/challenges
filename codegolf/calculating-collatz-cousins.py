#!/usr/bin/env python3

"""

Define the function f(n) for a positive integer n as follows:

n / 2, if n is even
3 * n + 1, if n is odd
If you repeatedly apply this function to any n greater than 0, the result always seems to converge to 1 (though nobody's been able to prove that yet). This property is known as the Collatz Conjecture.

Define an integer's stopping time as the number of times you have to pass it through the Collatz function f before it reaches 1. Here are the stopping times of the first 15 integers:

1  0
2  1
3  7
4  2
5  5
6  8
7  16
8  3
9  19
10 6
11 14
12 9
13 9
14 17
15 17
Let's call any set of numbers with the same stopping time Collatz cousins. For example, 5 and 32 are Collatz cousins, with a stopping time of 5.

Your task: write a program or function that takes a nonnegative integer and generates the set of Collatz cousins whose stopping time is equal to that integer.

Input
A nonnegative integer S, given via STDIN, ARGV, or function argument.

Output
A list of all numbers whose stopping time is S, sorted in ascending order. The list may be output by your program, or returned or output by your function. Output format is flexible: space-separated, newline-separated, or any standard list format of your language is fine, as long as the numbers are easily distinguishable from one another.

Requirements
Your submission must give correct results for any S â‰¤ 30. It should finish in seconds or minutes, not hours or days.

Examples
0  -> 1
1  -> 2
5  -> 5, 32
9  -> 12, 13, 80, 84, 85, 512
15 -> 22, 23, 136, 138, 140, 141, 150, 151, 768, 832, 848, 852, 853, 904, 906, 908, 909, 5120, 5376, 5440, 5456, 5460, 5461, 32768
Here is a Gist of the output for S = 30.

This is code-golf: shortest program in bytes wins. Good luck!

"""

# ported from @Reto Koradi solution
def gen(n):
    s = {1}
    for k in range(n):
        p, s = s, set()
        for t in p:
            s.add(2*t)
            if t > 4 and (t-1)%6 == 3:
                s.add((t-1)//3)
    return sorted(s)

def main():
    assert gen(0) == [1]
    assert gen(1) == [2]
    assert gen(5) == [5, 32]
    assert gen(9) == [12, 13, 80, 84, 85, 512]
    assert gen(15) == [
        22,
        23,
        136,
        138,
        140,
        141,
        150,
        151,
        768,
        832,
        848,
        852,
        853,
        904,
        906,
        908,
        909,
        5120,
        5376,
        5440,
        5456,
        5460,
        5461,
        32768,
    ]
    assert gen(30) == [
        86,
        87,
        89,
        520,
        522,
        524,
        525,
        528,
        529,
        532,
        533,
        536,
        538,
        546,
        547,
        555,
        571,
        577,
        578,
        579,
        583,
        633,
        635,
        3136,
        3152,
        3156,
        3157,
        3168,
        3176,
        3178,
        3185,
        3200,
        3232,
        3240,
        3242,
        3264,
        3280,
        3284,
        3285,
        3298,
        3299,
        3332,
        3333,
        3334,
        3426,
        3427,
        3428,
        3429,
        3430,
        3464,
        3466,
        3468,
        3469,
        3472,
        3476,
        3477,
        3480,
        3482,
        3500,
        3501,
        3502,
        3528,
        3530,
        3532,
        3533,
        3537,
        3570,
        3571,
        3593,
        3800,
        3801,
        3802,
        3804,
        3805,
        3812,
        3813,
        3814,
        3819,
        3820,
        3821,
        3822,
        18432,
        18944,
        19072,
        19104,
        19112,
        19114,
        19456,
        19712,
        19776,
        19792,
        19796,
        19797,
        20000,
        20008,
        20010,
        20016,
        20020,
        20021,
        20544,
        20560,
        20564,
        20565,
        20576,
        20584,
        20586,
        20593,
        20616,
        20618,
        20620,
        20621,
        20630,
        20631,
        20736,
        20800,
        20816,
        20820,
        20821,
        20864,
        20896,
        20904,
        20906,
        20932,
        20933,
        20934,
        21000,
        21002,
        21004,
        21005,
        21008,
        21009,
        21012,
        21013,
        21016,
        21018,
        21026,
        21027,
        21035,
        21184,
        21200,
        21204,
        21205,
        21216,
        21218,
        21219,
        21224,
        21226,
        21233,
        21424,
        21425,
        21426,
        21427,
        21428,
        21429,
        21432,
        21434,
        21560,
        21562,
        21564,
        21565,
        21569,
        21570,
        21571,
        22800,
        22804,
        22805,
        22808,
        22810,
        22816,
        22824,
        22826,
        22828,
        22829,
        22830,
        22832,
        22836,
        22837,
        22849,
        22880,
        22888,
        22890,
        22896,
        22897,
        22900,
        22901,
        22914,
        22915,
        22916,
        22917,
        22918,
        22919,
        22920,
        22922,
        22924,
        22925,
        22928,
        22932,
        22933,
        22936,
        22938,
        22987,
        114688,
        118784,
        119808,
        120064,
        120128,
        120144,
        120148,
        120149,
        122880,
        123392,
        123520,
        123552,
        123560,
        123562,
        123648,
        123712,
        123728,
        123732,
        123733,
        123784,
        123786,
        123788,
        123789,
        124928,
        125440,
        125568,
        125600,
        125608,
        125610,
        126016,
        126032,
        126036,
        126037,
        126048,
        126056,
        126058,
        126065,
        126080,
        126112,
        126120,
        126122,
        126144,
        126160,
        126164,
        126165,
        126178,
        126179,
        126212,
        126213,
        126214,
        127232,
        127296,
        127312,
        127316,
        127317,
        127360,
        127392,
        127400,
        127402,
        127428,
        127429,
        127430,
        128544,
        128552,
        128554,
        128560,
        128564,
        128565,
        128576,
        128592,
        128596,
        128597,
        128608,
        128616,
        128618,
        128625,
        128642,
        128643,
        129376,
        129384,
        129386,
        129392,
        129393,
        129396,
        129397,
        129416,
        129418,
        129420,
        129421,
        129424,
        129428,
        129429,
        129432,
        129434,
        136704,
        136832,
        136864,
        136872,
        136874,
        136960,
        136976,
        136980,
        136981,
        136984,
        136986,
        137024,
        137040,
        137044,
        137045,
        137096,
        137098,
        137100,
        137101,
        137137,
        137138,
        137139,
        137344,
        137376,
        137384,
        137386,
        137408,
        137424,
        137428,
        137429,
        137442,
        137443,
        137472,
        137488,
        137492,
        137493,
        137496,
        137498,
        137504,
        137512,
        137514,
        137516,
        137517,
        137518,
        137520,
        137524,
        137525,
        137536,
        137537,
        137552,
        137556,
        137557,
        137600,
        137632,
        137640,
        137642,
        137668,
        137669,
        137670,
        137736,
        137738,
        137740,
        137741,
        137745,
        137924,
        137925,
        137926,
        137928,
        137930,
        137932,
        137933,
        137945,
        138072,
        138073,
        138074,
        138076,
        138077,
        720896,
        737280,
        741376,
        742400,
        742656,
        742720,
        742736,
        742740,
        742741,
        753664,
        755712,
        756224,
        756352,
        756384,
        756392,
        756394,
        756736,
        756992,
        757056,
        757072,
        757076,
        757077,
        757280,
        757288,
        757290,
        757296,
        757300,
        757301,
        761856,
        763904,
        764416,
        764544,
        764576,
        764584,
        764586,
        771072,
        771328,
        771392,
        771408,
        771412,
        771413,
        771584,
        771712,
        771744,
        771752,
        771754,
        771856,
        771860,
        771861,
        771864,
        771866,
        776320,
        776352,
        776360,
        776362,
        776384,
        776400,
        776404,
        776405,
        776418,
        776419,
        776448,
        776512,
        776528,
        776532,
        776533,
        776576,
        776608,
        776616,
        776618,
        776644,
        776645,
        776646,
        776712,
        776714,
        776716,
        776717,
        776721,
        821248,
        821760,
        821888,
        821920,
        821928,
        821930,
        822272,
        822528,
        822592,
        822608,
        822612,
        822613,
        822816,
        822824,
        822826,
        822832,
        822836,
        822837,
        823296,
        824320,
        824576,
        824640,
        824656,
        824660,
        824661,
        824832,
        824960,
        824992,
        825000,
        825002,
        825088,
        825104,
        825108,
        825109,
        825112,
        825114,
        825152,
        825168,
        825172,
        825173,
        825224,
        825226,
        825228,
        825229,
        825265,
        825266,
        825267,
        825344,
        825856,
        825984,
        826016,
        826024,
        826026,
        826432,
        826448,
        826452,
        826453,
        826464,
        826472,
        826474,
        826481,
        827520,
        827552,
        827560,
        827562,
        827584,
        827600,
        827604,
        827605,
        827618,
        827619,
        827664,
        827668,
        827669,
        827672,
        827674,
        827692,
        827693,
        827694,
        828432,
        828436,
        828437,
        828440,
        828442,
        828448,
        828450,
        828451,
        828456,
        828458,
        828464,
        828468,
        828469,
        828484,
        828485,
        828486,
        828491,
        828502,
        828503,
        4456448,
        4521984,
        4538368,
        4542464,
        4543488,
        4543744,
        4543808,
        4543824,
        4543828,
        4543829,
        4587520,
        4620288,
        4628480,
        4630528,
        4631040,
        4631168,
        4631200,
        4631208,
        4631210,
        4657152,
        4658176,
        4658432,
        4658496,
        4658512,
        4658516,
        4658517,
        4659200,
        4659712,
        4659840,
        4659872,
        4659880,
        4659882,
        4660288,
        4660304,
        4660308,
        4660309,
        4660320,
        4660328,
        4660330,
        4660337,
        4915200,
        4931584,
        4935680,
        4936704,
        4936960,
        4937024,
        4937040,
        4937044,
        4937045,
        4947968,
        4950016,
        4950528,
        4950656,
        4950688,
        4950696,
        4950698,
        4951040,
        4951296,
        4951360,
        4951376,
        4951380,
        4951381,
        4951584,
        4951592,
        4951594,
        4951600,
        4951604,
        4951605,
        4956160,
        4958208,
        4958720,
        4958848,
        4958880,
        4958888,
        4958890,
        4965376,
        4965632,
        4965696,
        4965712,
        4965716,
        4965717,
        4965888,
        4966016,
        4966048,
        4966056,
        4966058,
        4966160,
        4966164,
        4966165,
        4966168,
        4966170,
        4970624,
        4970656,
        4970664,
        4970666,
        4970688,
        4970704,
        4970708,
        4970709,
        4970722,
        4970723,
        4970752,
        4970816,
        4970832,
        4970836,
        4970837,
        4970880,
        4970912,
        4970920,
        4970922,
        4970948,
        4970949,
        4970950,
        4971016,
        4971018,
        4971020,
        4971021,
        4971025,
        25165824,
        27262976,
        27787264,
        27918336,
        27951104,
        27959296,
        27961344,
        27961856,
        27961984,
        27962016,
        27962024,
        27962026,
        29622272,
        29687808,
        29704192,
        29708288,
        29709312,
        29709568,
        29709632,
        29709648,
        29709652,
        29709653,
        29753344,
        29786112,
        29794304,
        29796352,
        29796864,
        29796992,
        29797024,
        29797032,
        29797034,
        29822976,
        29824000,
        29824256,
        29824320,
        29824336,
        29824340,
        29824341,
        29825024,
        29825536,
        29825664,
        29825696,
        29825704,
        29825706,
        29826112,
        29826128,
        29826132,
        29826133,
        29826144,
        29826152,
        29826154,
        29826161,
        167772160,
        176160768,
        178257920,
        178782208,
        178913280,
        178946048,
        178954240,
        178956288,
        178956800,
        178956928,
        178956960,
        178956968,
        178956970,
        1073741824,
    ]


main()
