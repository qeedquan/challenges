/*

Given an HTTP/1.1 POST request represented as a buffer (e.g., Uint8Array; uint8_t) of bytes, locate the delimiter between headers and body, the sequence 13, 10, 13, 10 (\r\n\r\n).

Data
The sample raw POST request that will be used was made on Chromium browser. The POST body is SDP from WebRTC, here stored as code point in a JSON array

[80,79,83,84,32,47,32,72,84,84,80,47,49,46,49,13,10,72,111,115,116,58,32,48,46,48,46,48,46,48,58,52,52,56,49,56,13,10,67,111,110,110,101,99,116,105,111,110,58,32,107,101,101,112,45,97,108,105,118,101,13,10,67,111,110,116,101,110,116,45,76,101,110,103,116,104,58,32,53,56,55,13,10,80,114,97,103,109,97,58,32,110,111,45,99,97,99,104,101,13,10,67,97,99,104,101,45,67,111,110,116,114,111,108,58,32,110,111,45,99,97,99,104,101,13,10,115,101,99,45,99,104,45,117,97,45,112,108,97,116,102,111,114,109,58,32,34,76,105,110,117,120,34,13,10,65,99,99,101,112,116,45,76,97,110,103,117,97,103,101,58,32,101,110,45,85,83,44,101,110,59,113,61,48,46,57,13,10,115,101,99,45,99,104,45,117,97,58,32,34,78,111,116,61,65,63,66,114,97,110,100,34,59,118,61,34,50,52,34,44,32,34,67,104,114,111,109,105,117,109,34,59,118,61,34,49,52,48,34,13,10,85,115,101,114,45,65,103,101,110,116,58,32,77,111,122,105,108,108,97,47,53,46,48,32,40,88,49,49,59,32,76,105,110,117,120,32,120,56,54,95,54,52,41,32,65,112,112,108,101,87,101,98,75,105,116,47,53,51,55,46,51,54,32,40,75,72,84,77,76,44,32,108,105,107,101,32,71,101,99,107,111,41,32,67,104,114,111,109,101,47,49,52,48,46,48,46,48,46,48,32,83,97,102,97,114,105,47,53,51,55,46,51,54,13,10,115,101,99,45,99,104,45,117,97,45,109,111,98,105,108,101,58,32,63,48,13,10,65,99,99,101,112,116,58,32,42,47,42,13,10,79,114,105,103,105,110,58,32,104,116,116,112,115,58,47,47,103,105,116,104,117,98,46,99,111,109,13,10,83,101,99,45,70,101,116,99,104,45,83,105,116,101,58,32,99,114,111,115,115,45,115,105,116,101,13,10,83,101,99,45,70,101,116,99,104,45,77,111,100,101,58,32,99,111,114,115,13,10,83,101,99,45,70,101,116,99,104,45,68,101,115,116,58,32,101,109,112,116,121,13,10,65,99,99,101,112,116,45,69,110,99,111,100,105,110,103,58,32,103,122,105,112,44,32,100,101,102,108,97,116,101,13,10,13,10,118,61,48,13,10,111,61,45,32,56,49,57,52,57,48,50,57,57,48,49,51,55,51,51,51,56,50,55,32,50,32,73,78,32,73,80,52,32,49,50,55,46,48,46,48,46,49,13,10,115,61,45,13,10,116,61,48,32,48,13,10,97,61,103,114,111,117,112,58,66,85,78,68,76,69,32,48,13,10,97,61,101,120,116,109,97,112,45,97,108,108,111,119,45,109,105,120,101,100,13,10,97,61,109,115,105,100,45,115,101,109,97,110,116,105,99,58,32,87,77,83,13,10,109,61,97,112,112,108,105,99,97,116,105,111,110,32,57,32,85,68,80,47,68,84,76,83,47,83,67,84,80,32,119,101,98,114,116,99,45,100,97,116,97,99,104,97,110,110,101,108,13,10,99,61,73,78,32,73,80,52,32,48,46,48,46,48,46,48,13,10,97,61,99,97,110,100,105,100,97,116,101,58,50,48,48,57,52,50,49,53,56,54,32,49,32,117,100,112,32,50,49,49,51,57,51,55,49,53,49,32,57,98,52,52,48,52,100,48,45,100,49,101,101,45,52,100,54,101,45,56,48,55,49,45,101,100,99,51,50,52,53,101,52,98,55,97,46,108,111,99,97,108,32,52,49,49,53,52,32,116,121,112,32,104,111,115,116,32,103,101,110,101,114,97,116,105,111,110,32,48,32,110,101,116,119,111,114,107,45,99,111,115,116,32,57,57,57,13,10,97,61,105,99,101,45,117,102,114,97,103,58,83,121,57,83,13,10,97,61,105,99,101,45,112,119,100,58,72,52,66,104,111,102,47,43,55,78,115,78,54,102,118,68,105,110,71,80,103,70,47,110,13,10,97,61,105,99,101,45,111,112,116,105,111,110,115,58,116,114,105,99,107,108,101,13,10,97,61,102,105,110,103,101,114,112,114,105,110,116,58,115,104,97,45,50,53,54,32,52,50,58,48,55,58,57,48,58,55,55,58,48,49,58,53,53,58,53,70,58,70,69,58,48,57,58,50,51,58,50,55,58,65,57,58,57,55,58,57,67,58,51,53,58,65,68,58,57,69,58,65,68,58,65,57,58,52,48,58,50,68,58,48,68,58,50,53,58,70,65,58,68,70,58,54,57,58,57,66,58,70,67,58,69,54,58,53,69,58,67,57,58,66,50,13,10,97,61,115,101,116,117,112,58,97,99,116,112,97,115,115,13,10,97,61,109,105,100,58,48,13,10,97,61,115,99,116,112,45,112,111,114,116,58,53,48,48,48,13,10,97,61,109,97,120,45,109,101,115,115,97,103,101,45,115,105,122,101,58,50,54,50,49,52,52,13,10]
Locating criteria
Print the index of the start of the first sequence \r\n\r\n (13 10 13 10) in the POST request buffer of bytes.

Winning criteria
This is a fastest-code challenge. Timing will be based on the timing shown in the tio.run link provided, in the Debug section, User Time.

*/

#define _GNU_SOURCE
#include <stdio.h>
#include <string.h>
#include <stdint.h>

long
delimiter(uint8_t *data, size_t len)
{
	static const uint8_t needle[] = { '\r', '\n', '\r', '\n' };
	uint8_t *ptr;

	ptr = memmem(data, len, needle, sizeof(needle));
	return (ptr) ? (ptr - data) : -1;
}

int
main()
{
	uint8_t data[] = {
		80, 79, 83, 84, 32, 47, 32, 72, 84, 84, 80, 47, 49, 46, 49, 13, 10, 72, 111, 115, 116, 58,
		32, 48, 46, 48, 46, 48, 46, 48, 58, 52, 52, 56, 49, 56, 13, 10, 67, 111, 110, 110, 101, 99,
		116, 105, 111, 110, 58, 32, 107, 101, 101, 112, 45, 97, 108, 105, 118, 101, 13, 10, 67,
		111, 110, 116, 101, 110, 116, 45, 76, 101, 110, 103, 116, 104, 58, 32, 53, 56, 55, 13, 10,
		80, 114, 97, 103, 109, 97, 58, 32, 110, 111, 45, 99, 97, 99, 104, 101, 13, 10, 67, 97, 99,
		104, 101, 45, 67, 111, 110, 116, 114, 111, 108, 58, 32, 110, 111, 45, 99, 97, 99, 104, 101,
		13, 10, 115, 101, 99, 45, 99, 104, 45, 117, 97, 45, 112, 108, 97, 116, 102, 111, 114, 109,
		58, 32, 34, 76, 105, 110, 117, 120, 34, 13, 10, 65, 99, 99, 101, 112, 116, 45, 76, 97, 110,
		103, 117, 97, 103, 101, 58, 32, 101, 110, 45, 85, 83, 44, 101, 110, 59, 113, 61, 48, 46,
		57, 13, 10, 115, 101, 99, 45, 99, 104, 45, 117, 97, 58, 32, 34, 78, 111, 116, 61, 65, 63,
		66, 114, 97, 110, 100, 34, 59, 118, 61, 34, 50, 52, 34, 44, 32, 34, 67, 104, 114, 111, 109,
		105, 117, 109, 34, 59, 118, 61, 34, 49, 52, 48, 34, 13, 10, 85, 115, 101, 114, 45, 65, 103,
		101, 110, 116, 58, 32, 77, 111, 122, 105, 108, 108, 97, 47, 53, 46, 48, 32, 40, 88, 49, 49,
		59, 32, 76, 105, 110, 117, 120, 32, 120, 56, 54, 95, 54, 52, 41, 32, 65, 112, 112, 108,
		101, 87, 101, 98, 75, 105, 116, 47, 53, 51, 55, 46, 51, 54, 32, 40, 75, 72, 84, 77, 76, 44,
		32, 108, 105, 107, 101, 32, 71, 101, 99, 107, 111, 41, 32, 67, 104, 114, 111, 109, 101, 47,
		49, 52, 48, 46, 48, 46, 48, 46, 48, 32, 83, 97, 102, 97, 114, 105, 47, 53, 51, 55, 46, 51,
		54, 13, 10, 115, 101, 99, 45, 99, 104, 45, 117, 97, 45, 109, 111, 98, 105, 108, 101, 58,
		32, 63, 48, 13, 10, 65, 99, 99, 101, 112, 116, 58, 32, 42, 47, 42, 13, 10, 79, 114, 105,
		103, 105, 110, 58, 32, 104, 116, 116, 112, 115, 58, 47, 47, 103, 105, 116, 104, 117, 98,
		46, 99, 111, 109, 13, 10, 83, 101, 99, 45, 70, 101, 116, 99, 104, 45, 83, 105, 116, 101,
		58, 32, 99, 114, 111, 115, 115, 45, 115, 105, 116, 101, 13, 10, 83, 101, 99, 45, 70, 101,
		116, 99, 104, 45, 77, 111, 100, 101, 58, 32, 99, 111, 114, 115, 13, 10, 83, 101, 99, 45,
		70, 101, 116, 99, 104, 45, 68, 101, 115, 116, 58, 32, 101, 109, 112, 116, 121, 13, 10, 65,
		99, 99, 101, 112, 116, 45, 69, 110, 99, 111, 100, 105, 110, 103, 58, 32, 103, 122, 105,
		112, 44, 32, 100, 101, 102, 108, 97, 116, 101, 13, 10, 13, 10, 118, 61, 48, 13, 10, 111,
		61, 45, 32, 56, 49, 57, 52, 57, 48, 50, 57, 57, 48, 49, 51, 55, 51, 51, 51, 56, 50, 55, 32,
		50, 32, 73, 78, 32, 73, 80, 52, 32, 49, 50, 55, 46, 48, 46, 48, 46, 49, 13, 10, 115, 61,
		45, 13, 10, 116, 61, 48, 32, 48, 13, 10, 97, 61, 103, 114, 111, 117, 112, 58, 66, 85, 78,
		68, 76, 69, 32, 48, 13, 10, 97, 61, 101, 120, 116, 109, 97, 112, 45, 97, 108, 108, 111,
		119, 45, 109, 105, 120, 101, 100, 13, 10, 97, 61, 109, 115, 105, 100, 45, 115, 101, 109,
		97, 110, 116, 105, 99, 58, 32, 87, 77, 83, 13, 10, 109, 61, 97, 112, 112, 108, 105, 99, 97,
		116, 105, 111, 110, 32, 57, 32, 85, 68, 80, 47, 68, 84, 76, 83, 47, 83, 67, 84, 80, 32,
		119, 101, 98, 114, 116, 99, 45, 100, 97, 116, 97, 99, 104, 97, 110, 110, 101, 108, 13, 10,
		99, 61, 73, 78, 32, 73, 80, 52, 32, 48, 46, 48, 46, 48, 46, 48, 13, 10, 97, 61, 99, 97,
		110, 100, 105, 100, 97, 116, 101, 58, 50, 48, 48, 57, 52, 50, 49, 53, 56, 54, 32, 49, 32,
		117, 100, 112, 32, 50, 49, 49, 51, 57, 51, 55, 49, 53, 49, 32, 57, 98, 52, 52, 48, 52, 100,
		48, 45, 100, 49, 101, 101, 45, 52, 100, 54, 101, 45, 56, 48, 55, 49, 45, 101, 100, 99, 51,
		50, 52, 53, 101, 52, 98, 55, 97, 46, 108, 111, 99, 97, 108, 32, 52, 49, 49, 53, 52, 32,
		116, 121, 112, 32, 104, 111, 115, 116, 32, 103, 101, 110, 101, 114, 97, 116, 105, 111, 110,
		32, 48, 32, 110, 101, 116, 119, 111, 114, 107, 45, 99, 111, 115, 116, 32, 57, 57, 57, 13,
		10, 97, 61, 105, 99, 101, 45, 117, 102, 114, 97, 103, 58, 83, 121, 57, 83, 13, 10, 97, 61,
		105, 99, 101, 45, 112, 119, 100, 58, 72, 52, 66, 104, 111, 102, 47, 43, 55, 78, 115, 78,
		54, 102, 118, 68, 105, 110, 71, 80, 103, 70, 47, 110, 13, 10, 97, 61, 105, 99, 101, 45,
		111, 112, 116, 105, 111, 110, 115, 58, 116, 114, 105, 99, 107, 108, 101, 13, 10, 97, 61,
		102, 105, 110, 103, 101, 114, 112, 114, 105, 110, 116, 58, 115, 104, 97, 45, 50, 53, 54,
		32, 52, 50, 58, 48, 55, 58, 57, 48, 58, 55, 55, 58, 48, 49, 58, 53, 53, 58, 53, 70, 58, 70,
		69, 58, 48, 57, 58, 50, 51, 58, 50, 55, 58, 65, 57, 58, 57, 55, 58, 57, 67, 58, 51, 53, 58,
		65, 68, 58, 57, 69, 58, 65, 68, 58, 65, 57, 58, 52, 48, 58, 50, 68, 58, 48, 68, 58, 50, 53,
		58, 70, 65, 58, 68, 70, 58, 54, 57, 58, 57, 66, 58, 70, 67, 58, 69, 54, 58, 53, 69, 58, 67,
		57, 58, 66, 50, 13, 10, 97, 61, 115, 101, 116, 117, 112, 58, 97, 99, 116, 112, 97, 115,
		115, 13, 10, 97, 61, 109, 105, 100, 58, 48, 13, 10, 97, 61, 115, 99, 116, 112, 45, 112,
		111, 114, 116, 58, 53, 48, 48, 48, 13, 10, 97, 61, 109, 97, 120, 45, 109, 101, 115, 115,
		97, 103, 101, 45, 115, 105, 122, 101, 58, 50, 54, 50, 49, 52, 52, 13, 10
	};

	printf("%ld\n", delimiter(data, sizeof(data)));

	return 0;
}
